import { fileURLToPath } from 'url';
import path from 'path';
import { resolve } from 'node:path';
import sirv from 'sirv';

// ../../node_modules/.pnpm/tsup@8.4.0_jiti@2.4.2_postcss@8.5.3_tsx@4.19.3_typescript@5.8.2_yaml@2.7.1/node_modules/tsup/assets/esm_shims.js
var getFilename = () => fileURLToPath(import.meta.url);
var getDirname = () => path.dirname(getFilename());
var __dirname = /* @__PURE__ */ getDirname();
var DEV_SERVER_PATH = "/__vue-macros";
var Devtools = ({ nuxtContext } = {}) => {
  return {
    name: "vue-macros-devtools",
    async configureServer(server) {
      if (nuxtContext?.isClient === false) return;
      {
        server.middlewares.use(
          DEV_SERVER_PATH,
          sirv(resolve(__dirname, "client"), {
            single: true,
            dev: true
          })
        );
      }
    }
  };
};

export { Devtools };
